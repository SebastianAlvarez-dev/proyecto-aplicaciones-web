
<!doctype html>
<html lang="es">
<head>
<script>
  // Protecci√≥n: bloquea acceso si no hay sesi√≥n
  (function(){
    var usuario = localStorage.getItem('becasULEAM_user');
    if(!usuario){
      window.location.replace('login.html');
    }
  })();
</script>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Soporte t√©cnico ¬∑ ULEAM</title>
  <link rel="stylesheet" href="css/estilos.css">
</head>
<body>

<header>
  <div class="container top">
    <div class="brand">
      <img src="assets/uleam-placeholder.png" alt="ULEAM">
      <strong>ULEAM ¬∑ Becas y ayudas econ√≥micas</strong>
    </div>
    <nav>
      <a href="index.html">Inicio</a>
      <a href="becas.html">Becas</a>
      <a href="registro.html">Registro</a>
      <a href="ver-solicitudes.html">Mis solicitudes</a>
      <a href="perfil.html">Perfil</a>
      <a href="reporte-tecnico.html">Soporte</a>
      <a href="login.html">Login</a>
    </nav>

    <div class="user-menu">
      <span id="userNameHeader">Usuario ‚ñº</span>
      <div class="user-dropdown">
        <a href="perfil.html" class="btn light">üë§ Mi perfil</a>
        <button id="logoutBtn" class="btn secondary">üîí Cerrar sesi√≥n</button>
      </div>
    </div>

  </div>
</header>

<main class="container">
  <section class="card" style="border-left:6px solid var(--uleam-rojo)">
    <h1>üõ†Ô∏è Reporte t√©cnico</h1>
    <p>Describe tu problema para que podamos ayudarte:</p>
    <form id="formReporte">
      <div class="form-row"><label>Nombre completo</label><input type="text" id="nombreReporte" required></div>
      <div class="form-row"><label>Correo institucional</label><input type="email" id="correoReporte" required></div>
      <div class="form-row"><label>Tipo de problema</label>
        <select id="tipoProblema"><option>Error en formulario</option><option>No puedo acceder</option><option>Problema con archivos</option><option>Otro</option></select>
      </div>
      <div class="form-row" style="grid-column:1 / -1"><label>Descripci√≥n del problema</label><textarea id="descripcionReporte" rows="4"></textarea></div>
      <div class="form-actions"><button class="btn" type="submit">Enviar reporte</button></div>
    </form>
  </section>
</main>

<footer>
  <div class="container">
    <div>¬© ULEAM ‚Äì Sistema de Becas (prototipo acad√©mico)</div>
    <div><button class="btn light" onclick="logout()">Cerrar sesi√≥n</button></div>
  </div>
</footer>
<script src="js/app.js"></script>

<script>
document.getElementById('formReporte').addEventListener('submit', function(e){ e.preventDefault();
  var nombre=document.getElementById('nombreReporte').value;
  var correo=document.getElementById('correoReporte').value;
  var tipo=document.getElementById('tipoProblema').value;
  var descripcion=document.getElementById('descripcionReporte').value;
  var arr=JSON.parse(localStorage.getItem('becasULEAM_reportesTecnicos')||'[]');
  arr.push({nombre:nombre,correo:correo,tipo:tipo,descripcion:descripcion,fecha:new Date().toISOString()});
  localStorage.setItem('becasULEAM_reportesTecnicos', JSON.stringify(arr));
  alert('Tu reporte fue enviado. Te contactaremos por correo (simulado).');
  e.target.reset();
});
</script>
</body>
</html>
